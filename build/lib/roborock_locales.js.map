{"version":3,"file":"roborock_locales.js","sourceRoot":"","sources":["../../src/lib/roborock_locales.ts"],"names":[],"mappings":"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","sourcesContent":["\n// Define types for the dataset structure\ninterface Dataset {\n    meta: {\n        languages: string[];\n        generated: string;\n    };\n    fault_codes: {\n        [code: string]: {\n            internal?: string;\n            [lang: string]: {\n                title: string;\n                summary?: string;\n            } | string | undefined;\n        };\n    };\n    translations: {\n        [lang: string]: {\n            [key: string]: string;\n        };\n    };\n    general_translations?: {\n        [lang: string]: {\n            [key: string]: string;\n        };\n    };\n    attribute_mappings?: Record<string, string>;\n    status_map?: Record<string, string>;\n}\n\nexport class RoborockLocales {\n\tprivate dataset: Dataset;\n\tprivate attributeMap: Record<string, string> = {};\n\n\tconstructor(dataset: Dataset) {\n\t\tthis.dataset = dataset;\n\n\t\t// Merge attribute mappings from dataset if available\n\t\tif (this.dataset.attribute_mappings) {\n\t\t\tthis.attributeMap = {\n\t\t\t\t...this.attributeMap,\n\t\t\t\t...this.dataset.attribute_mappings\n\t\t\t};\n\t\t}\n\t}\n\n\tprivate isDatasetValid(): boolean {\n\t\treturn !!this.dataset;\n\t}\n\n\n\n\t/**\n     * Get translated text for a generic key.\n     * @param key The translation key (e.g., \"setting_consumable_mop\")\n     * @param language The language code (e.g., \"en\", \"de\")\n     */\n\tpublic getText(key: string, language: string = \"en\"): string {\n\t\tif (!this.isDatasetValid()) return key;\n\t\t// Normalize ioBroker language codes to dataset keys\n\t\tlet normalizedLang = language.toLowerCase();\n\t\tif (normalizedLang === \"zh-cn\") normalizedLang = \"zh\";\n\t\tif (normalizedLang === \"zh-tw\") normalizedLang = \"zh-hant\";\n\n\t\t// Try translations first\n\t\t// Look up using a case-insensitive check to handle zh-Hant vs zh-hant\n\t\tconst datasetLangKey = Object.keys(this.dataset.translations || {}).find(\n\t\t\t(k) => k.toLowerCase() === normalizedLang.toLowerCase()\n\t\t);\n\t\tconst langData = datasetLangKey ? this.dataset.translations?.[datasetLangKey] : null;\n\n\t\tif (langData && langData[key]) {\n\t\t\treturn langData[key];\n\t\t}\n\t\t// Try general_translations\n\t\tconst genData = this.dataset.general_translations?.[language];\n\t\tif (genData && genData[key]) {\n\t\t\treturn genData[key];\n\t\t}\n\t\t// Fallback to English translations\n\t\tconst enData = this.dataset.translations?.[\"en\"];\n\t\tif (enData && enData[key]) {\n\t\t\treturn enData[key];\n\t\t}\n\t\t// Fallback to English general_translations\n\t\tconst enGenData = this.dataset.general_translations?.[\"en\"];\n\t\tif (enGenData && enGenData[key]) {\n\t\t\treturn enGenData[key];\n\t\t}\n\t\treturn key; // Return key if not found\n\t}\n\n\t/**\n\t * Get all available translations for a key.\n\t */\n\tpublic getTranslations(key: string): Record<string, string> {\n\t\tconst translations: Record<string, string> = {};\n\t\tif (!this.isDatasetValid()) return translations;\n\n\t\t// Collect from regular translations\n\t\tif (this.dataset.translations) {\n\t\t\tfor (const lang in this.dataset.translations) {\n\t\t\t\tconst langDict = this.dataset.translations[lang];\n\t\t\t\tif (langDict && langDict[key]) {\n\t\t\t\t\ttranslations[lang] = langDict[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Collect from general translations if missing in specific language\n\t\tif (this.dataset.general_translations) {\n\t\t\tfor (const lang in this.dataset.general_translations) {\n\t\t\t\tconst langDict = this.dataset.general_translations[lang];\n\t\t\t\tif (langDict && langDict[key] && !translations[lang]) {\n\t\t\t\t\ttranslations[lang] = langDict[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn translations;\n\t}\n\n\n\t/**\n     * Get translated error text.\n     * @param errorCode The error code\n     * @param language The language code\n     */\n\tpublic getErrorText(errorCode: string | number, language: string = \"en\"): string {\n\t\tlet normalizedLang = language.toLowerCase();\n\t\tif (normalizedLang === \"zh-cn\") normalizedLang = \"zh\";\n\t\tif (normalizedLang === \"zh-tw\") normalizedLang = \"zh-hant\";\n\n\t\tconst codeStr = errorCode.toString();\n\t\tconst fault = this.dataset.fault_codes?.[codeStr];\n\t\tif (fault) {\n\t\t\tconst getTitle = (entry: any) =>\n\t\t\t\t(typeof entry === \"object\" && entry !== null) ? entry.title : entry;\n\n\t\t\tconst langTitle = getTitle(fault[normalizedLang]);\n\t\t\tif (langTitle && typeof langTitle === \"string\") return langTitle;\n\n\t\t\tconst enTitle = getTitle(fault[\"en\"]);\n\t\t\tif (enTitle && typeof enTitle === \"string\") return enTitle;\n\t\t}\n\t\treturn `Error ${errorCode}`;\n\t}\n\n\t/**\n\t * Get the translation key for a given device attribute.\n\t * Returns undefined if no mapping is found.\n\t */\n\tpublic getAttributeKey(attribute: string): string | undefined {\n\t\tif (!this.isDatasetValid()) return undefined;\n\t\tif (this.dataset.attribute_mappings) {\n\t\t\treturn this.dataset.attribute_mappings[attribute];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Get the translation key for a status code.\n\t */\n\tpublic getStatusKey(statusCode: string | number): string | undefined {\n\t\tif (this.dataset.status_map) {\n\t\t\treturn this.dataset.status_map[statusCode.toString()];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\n\tpublic getErrorCodes(): number[] {\n\t\tif (!this.dataset.fault_codes) return [];\n\t\treturn Object.keys(this.dataset.fault_codes).map(k => parseInt(k)).filter(k => !isNaN(k) && k !== 0);\n\t}\n\n\t/**\n     * Get the mapped value for Cloth State (Mop Mount).\n     * Mirrors logic: if not 0, show warning.\n     * @param value The cloth_state value\n     * @param language The language code\n     */\n\tpublic getClothStateText(value: number, language: string = \"en\"): string {\n\t\tif (value === 0) {\n\t\t\treturn this.getText(\"setting_consumable_mop\", language) + \": \" + this.getText(\"common_on\", language);\n\t\t} else if (value === 1) {\n\t\t\t// Removed / Not Installed\n\t\t\treturn this.getText(\"setting_consumable_change_tips7\", language);\n\t\t} else {\n\t\t\t// 2 or other = Dirty / abnormal? Default to generic warning\n\t\t\treturn this.getText(\"setting_consumable_change_tips7\", language) + ` (${value})`;\n\t\t}\n\t}\n\n\tpublic getWaterBoxModeText(value: number, language: string = \"en\"): string {\n\t\tswitch (value) {\n\t\t\tcase 200: return this.getText(\"home_clean_water_close\", language);\n\t\t\tcase 201: return this.getText(\"home_clean_water_low\", language);\n\t\t\tcase 202: return this.getText(\"home_clean_water_medium\", language);\n\t\t\tcase 203: return this.getText(\"home_clean_water_high\", language);\n\t\t\tdefault: return this.getText(\"unknown\", language) || `Water ${value}`;\n\t\t}\n\t}\n\n\tpublic getFanPowerText(value: number, language: string = \"en\"): string {\n\t\tswitch (value) {\n\t\t\tcase 101: return this.getText(\"home_clean_wind_silence\", language);\n\t\t\tcase 102: return this.getText(\"home_clean_wind_standard\", language);\n\t\t\tcase 103: return this.getText(\"home_clean_wind_strong\", language);\n\t\t\tcase 104: return this.getText(\"home_clean_wind_super_strong\", language);\n\t\t\tcase 105: return this.getText(\"home_clean_wind_max\", language);\n\t\t\tdefault: return this.getText(\"unknown\", language) || `Fan ${value}`;\n\t\t}\n\t}\n\n\tpublic getMopModeText(value: number, language: string = \"en\"): string {\n\t\tswitch (value) {\n\t\t\tcase 300: return this.getText(\"home_clean_route_standard\", language);\n\t\t\tcase 301: return this.getText(\"home_clean_route_carefully\", language);\n\t\t\tcase 302: return this.getText(\"home_clean_route_deep_plus\", language);\n\t\t\tcase 303: return this.getText(\"home_clean_route_custom\", language);\n\t\t\tdefault: return this.getText(\"unknown\", language) || `MopMode ${value}`;\n\t\t}\n\t}\n\n\tpublic getName(attribute: string, language: string = \"en\"): string | undefined {\n\t\tconst key = this.attributeMap[attribute];\n\t\tif (key) {\n\t\t\treturn this.getText(key, language);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Get all translations for an attribute name (for common.name object)\n\t */\n\tpublic getNameAll(attribute: string): ioBroker.StringOrTranslated {\n\t\tconst key = this.attributeMap[attribute];\n\t\tif (key) {\n\t\t\tconst trans = this.getTranslations(key);\n\t\t\tif (Object.keys(trans).length > 0) {\n\t\t\t\ttrans[\"en\"] = trans[\"en\"] || key;\n\t\t\t\treturn trans as ioBroker.StringOrTranslated;\n\t\t\t}\n\t\t}\n\n\n\t\t// If translation missing, return key (if mapped) or raw attribute name as fallback string.\n\t\t// This ensures we can use keys like 'water_tank' that are defined in words.js but not in the dataset.\n\t\treturn key || attribute;\n\t}\n}\n"]}